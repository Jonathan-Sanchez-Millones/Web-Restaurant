
{% extends 'core/base.html' %}

{% load static %}

{% block scripts %}
<script type="text/javascript" src="{{ STATIC_URL }} /static/js/carrito.js"></script>        
{% endblock %}

{% block content %}

    <div class="container my-5">

        <h3 class="text-center">Carrito de compras</h3>

        <table class="table table-hover border-bottom mt-4">
            <thead class="thead-dark">
                <tr>
                    <th class="text-center" scope="col" style="width: 60%;">Producto</th>
                    <th class="text-center" scope="col" style="width: 15%" ;>Precio</th>
                    <th class="text-center" scope="col" style="width: 15%" ;>Cantidad</th>
                    <th class="text-center" scope="col" style="width: 10%" ;>Subtotal</th>
                    <th scope="col"> </th>
                </tr>
            </thead>
            <tbody>
                {% for carrito in carritos %}
                <tr>
                    <td scope="row">
                        <div class="card border-0 mw-100" style="background-color: inherit;">
                            <div class="row no-gutters">
                                <div class="col-md-3">
                                    <img src="{{carrito.image.url}}" class="card-img-top" alt="Card image cap">
                                </div>
                                <div class="col-md-9">
                                    <div class="card-body">
                                        <h5 class="card-title nombre">{{carrito.nombre}}</h5>
                                        <p class="card-text">
                                        {{carrito.descripcion}}
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </td>
                    <td class="text-center">S/. {{carrito.precio}}</td>
                    <td class="text-center">
                        <form>
                            <div class="form-group d-flex justify-content-center">
                                <select class="form-control form-control-sm w-50 cant" id="exampleFormControlSelect3">
                                    <option selected>{{carrito.cantidad}}</option>
                                    <option>1</option>
                                    <option>2</option>
                                    <option>3</option>
                                    <option>4</option>
                                    <option>5</option>
                                    <option>6</option>
                                    <option>7</option>
                                    <option>8</option>
                                    <option>9</option>
                                </select>
                            </div>
                        </form>
                    </td>
                    <td class="text-center">S/. {{carrito.subtotal}}</td>
                    <td>
                            <input type="button" class="btn btn-warning quitar" value="Eliminar"/>         
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>

        <div class="d-flex justify-content-between mx-3">
            <!--<button type="button" class="btn btn-primary">Seguir comprando</button>-->
            <a class="btn btn-primary" href="{% url 'promociones' %}">Seguir comprando</a>
            <!--<a class="btn btn-primary" href="#">Realizar pago</a>-->
            <input type="button" class="btn btn-primary actualizar" value="Actualizar mi carrito"/>
        </div>


        <table class="table table-hover text-center mt-5 border-bottom" style="max-width: 100%;">
            <thead class="thead-dark">
                <tr>
                    <th scope="col" colspan="2" class="text-center">Total a pagar</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td scope="row">Subtotal</td>
                    <td>S/. {{subtotal|floatformat:2}}</td>

                </tr>
                <tr>
                    <td scope="row">Delivery</td>
                    <td>S/. 3.80</td>
                </tr>
                <tr>
                    <th scope="row">Gran total</th>
                    <td>S/. {{total|floatformat:2}}</td>
                </tr>
            </tbody>
        </table>

        <div class="text-right mx-3">
            <!--<button type="button" class="btn btn-primary">Realizar pago</button>-->
            <a class="btn btn-primary" href="{% url 'pago' %}">Realizar pago</a>
        </div>

    </div>
{% endblock %}